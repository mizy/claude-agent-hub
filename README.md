# Claude Agent Hub

> **ä»å·¥å…·åˆ°ç”Ÿå‘½ä½“ â€” ä¸€ä¸ªæ‹¥æœ‰è®°å¿†ã€æœ¬èƒ½å’Œè¿›åŒ–èƒ½åŠ›çš„è‡ªé©±è½¯ä»¶æ™ºèƒ½ä½“**

è‡ªä¸¾å¼ AI ä»»åŠ¡ç³»ç»Ÿã€‚ç”¨è‡ªå·±æ¥ç»´æŠ¤å’Œå¼€å‘è‡ªå·±ã€‚ç›®æ ‡ä¸æ˜¯"æ›´å¥½çš„å·¥å…·"ï¼Œè€Œæ˜¯"æœ‰ç”Ÿå‘½åŠ›çš„ç³»ç»Ÿ"ã€‚

> *selfcheck æ˜¯ç”Ÿå­˜æœ¬èƒ½ï¼Œselfevolution æ˜¯æˆé•¿æ¬²æœ›ï¼Œself-drive æ˜¯ç”Ÿå‘½çš„èµ·ç‚¹ã€‚*
> è¯¦è§ [VISION.md](./VISION.md)

## å½“å‰èƒ½åŠ›

- **ä¸€è¡Œå‘½ä»¤** â€” `cah "é‡æ„ç™»å½•æ¨¡å—"` è‡ªåŠ¨åˆ†æã€è§„åˆ’ã€æ‰§è¡Œ
- **æ™ºèƒ½ Workflow** â€” AI ç”Ÿæˆæ‰§è¡Œè®¡åˆ’ï¼Œ14 ç§èŠ‚ç‚¹ç±»å‹ï¼Œæ”¯æŒæ¡ä»¶ã€å¾ªç¯ã€å¹¶è¡Œ
- **é¡¹ç›®æ„ŸçŸ¥** â€” è‡ªåŠ¨åˆ†æé¡¹ç›®ç»“æ„ã€æ¡†æ¶ã€è§„èŒƒï¼Œç”Ÿæˆæ›´ç²¾å‡†çš„ä»»åŠ¡è®¡åˆ’
- **ç»éªŒå­¦ä¹ ** â€” ä»è¿‡å»ä»»åŠ¡ä¸­å­¦ä¹ æˆåŠŸæ¨¡å¼ï¼Œä»»åŠ¡åˆ†ç±»ï¼ŒèŠ‚ç‚¹æ¨¡å¼æå–
- **è®°å¿†ç³»ç»Ÿ** â€” è·¨ä»»åŠ¡æŒä¹…è®°å¿†ï¼Œé—å¿˜å¼•æ“ã€å…³è”å¼•æ“ã€æƒ…æ™¯è®°å¿†
- **ä»»åŠ¡äº¤äº’** â€” æš‚åœ/æ¢å¤/æ³¨å…¥èŠ‚ç‚¹/å‘é€æ¶ˆæ¯ï¼Œè¿è¡Œæ—¶åŠ¨æ€æ§åˆ¶ä»»åŠ¡
- **å¯è§‚æµ‹æ€§** â€” è¿›åº¦æ¡ + ETAã€è¶‹åŠ¿åˆ†æã€æ‰§è¡Œå¯¹æ¯”ã€Tracingï¼ˆOTLP å…¼å®¹ï¼‰
- **è‡ªæ„ˆ/è‡ªè¿›åŒ–** â€” selfcheck å¥åº·æ£€æŸ¥ + selfevolve å¤±è´¥åˆ†æâ†’æ”¹è¿›â†’éªŒè¯
- **è‡ªé©±æ¨¡å¼** â€” self-drive è‡ªä¸»å‘ç°æ”¹è¿›ç‚¹ã€ç”Ÿæˆå¹¶æ‰§è¡Œä»»åŠ¡
- **æç¤ºè¯ä¼˜åŒ–** â€” è‡ªåŠ¨åˆ†æå¤±è´¥ã€ç”Ÿæˆæ”¹è¿›ã€ç‰ˆæœ¬ç®¡ç†ä¸ A/B æµ‹è¯•
- **å¤šåç«¯** â€” Claude Code / OpenCode / iFlow / CodeBuddy / OpenAI Compatible
- **IM é›†æˆ** â€” é£ä¹¦/Telegram äº¤äº’ï¼ˆå‘½ä»¤ã€å¯¹è¯ã€å®¡æ‰¹ã€å¡ç‰‡å›è°ƒï¼‰
- **è‡ªä¸¾** â€” ç”¨ CAH å¼€å‘ CAHï¼Œdogfooding åˆ°æè‡´

## è¿›åŒ–è·¯çº¿

```
Phase 1 âœ…       Phase 2 âœ…       Phase 3 ğŸš§       Phase 4 ğŸš§       Phase 5 ğŸš§
èƒ½åšäº‹            èƒ½ç†è§£            ä¸æ­»              æˆé•¿              æƒ³æ´»
Foundation       Intelligence     Self-Healing     Self-Evolution   Self-Drive
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º
  CLI/Workflow     é¡¹ç›®æ„ŸçŸ¥          selfcheck        è®°å¿†/è¿›åŒ–å¼•æ“     æœ¬èƒ½/æ„è¯†
  14èŠ‚ç‚¹/9äººæ ¼     ç»éªŒå­¦ä¹           è‡ªæ„ˆå¾ªç¯          èƒ½åŠ›æ‰©å±•          è‡ªé©±è¿è¡Œ
  5ç§åç«¯          å¯è§‚æµ‹æ€§          ç¯å¢ƒéš”ç¦»          Multi-Agent      é€‚åº”åº¦å‡½æ•°
```

## æ¶æ„

```
â”Œâ”€ è¡¨ç°å±‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  CLI            å‘½ä»¤è¡Œä¸»å…¥å£                                    â”‚
â”‚  Server         HTTP å¯è§†åŒ–é¢æ¿ï¼ˆdashboardï¼‰                    â”‚
â”‚  Report         æŠ¥å‘Šç”Ÿæˆã€è¶‹åŠ¿åˆ†æ                              â”‚
â”‚  Messaging      IM äº¤äº’ï¼ˆé£ä¹¦ / Telegramï¼‰                      â”‚
â”œâ”€ ä¸šåŠ¡å±‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Task           ä»»åŠ¡ç”Ÿå‘½å‘¨æœŸï¼ˆåˆ›å»º/æ‰§è¡Œ/æš‚åœ/æ¢å¤/æ¶ˆæ¯/æ³¨å…¥ï¼‰   â”‚
â”‚  Workflow       AI å·¥ä½œæµå¼•æ“ï¼ˆç”Ÿæˆ/æ‰§è¡Œ/çŠ¶æ€/å¹¶å‘ï¼‰            â”‚
â”‚  Scheduler      å®ˆæŠ¤è¿›ç¨‹ã€äº‹ä»¶æ€»çº¿ã€é˜Ÿåˆ—                        â”‚
â”‚  Analysis       é¡¹ç›®æ„ŸçŸ¥ã€å†å²å­¦ä¹ ã€åˆ†ç±»ã€æ—¶é—´é¢„ä¼°              â”‚
â”‚  SelfCheck      7 é¡¹å¥åº·æ£€æŸ¥ã€è‡ªåŠ¨ä¿®å¤                          â”‚
â”‚  SelfEvolve     å¤±è´¥åˆ†æâ†’æ”¹è¿›â†’éªŒè¯ã€ä¿¡å·æ£€æµ‹                   â”‚
â”‚  SelfDrive      ç›®æ ‡ç®¡ç†ã€è‡ªé©±è°ƒåº¦                              â”‚
â”œâ”€ é›†æˆå±‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Backend        åç«¯æŠ½è±¡ï¼ˆ5 ç§åç«¯ï¼‰                            â”‚
â”‚  Memory         è®°å¿†ç³»ç»Ÿï¼ˆè¯­ä¹‰/æƒ…æ™¯/é—å¿˜/å…³è”ï¼‰                â”‚
â”‚  Persona        AI äººæ ¼å®šä¹‰ï¼ˆ9 ç§äººæ ¼ï¼‰                         â”‚
â”‚  Config         YAML é…ç½®åŠ è½½                                   â”‚
â”œâ”€ æŒä¹…å±‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Store          GenericFileStore + å„ä¸“ç”¨ Store                 â”‚
â”œâ”€ åŸºç¡€è®¾æ–½ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Shared         Result<T,E>ã€AppErrorã€æ—¥å¿—ã€IDã€äº‹ä»¶æ€»çº¿       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ç¯å¢ƒè¦æ±‚

- **Node.js** 20.0.0+
- **Claude Code CLI** â€” å·²å®‰è£…å¹¶å®Œæˆè®¤è¯ï¼ˆé»˜è®¤åç«¯ï¼‰

```bash
# ç¡®è®¤ Claude Code å·²å°±ç»ª
claude --version
```

## å®‰è£…

```bash
# é€šè¿‡ npm å®‰è£…
npm install -g @mizy/claude-agent-hub

# æˆ–ä»æºç å®‰è£…
git clone https://github.com/mizy/claude-agent-hub.git
cd claude-agent-hub
pnpm install && pnpm run build && npm link
```

## å¿«é€Ÿå¼€å§‹

```bash
# åœ¨ç›®æ ‡é¡¹ç›®ç›®å½•ä¸‹è¿è¡Œï¼ˆcwd ç”¨äºåŒé¡¹ç›®å†²çªæ£€æµ‹å’Œè‡ªåŠ¨ä¸²è¡Œï¼‰
cd your-project

# åˆ›å»ºå¹¶æ‰§è¡Œä»»åŠ¡
cah "ä¿®å¤ç™»å½• bug"

# å‰å°æ¨¡å¼ï¼ˆå®æ—¶çœ‹æ—¥å¿—ï¼‰
cah "æ·»åŠ ç”¨æˆ·è®¤è¯" -F

# åå°æ¨¡å¼ï¼ˆå®ˆæŠ¤è¿›ç¨‹è°ƒåº¦ï¼‰
cah start -D
```

## å‘½ä»¤å‚è€ƒ

### æ ¸å¿ƒå‘½ä»¤

```bash
cah "ä»»åŠ¡æè¿°"             # åˆ›å»ºä»»åŠ¡å¹¶è‡ªåŠ¨æ‰§è¡Œ
cah "ä»»åŠ¡æè¿°" -F          # å‰å°æ¨¡å¼ï¼Œå®æ—¶è¾“å‡º
cah "ä»»åŠ¡æè¿°" --no-run    # ä»…åˆ›å»ºä¸æ‰§è¡Œ
cah "ä»»åŠ¡æè¿°" -p high     # æŒ‡å®šä¼˜å…ˆçº§ï¼ˆlow/medium/highï¼‰
cah "ä»»åŠ¡æè¿°" -a <agent>  # æŒ‡å®š Agent
cah "ä»»åŠ¡æè¿°" -b <backend> -m <model>  # æŒ‡å®šåç«¯å’Œæ¨¡å‹
cah "ä»»åŠ¡æè¿°" -d <path>   # æŒ‡å®šæ•°æ®ç›®å½•

# å¿«æ·å‘½ä»¤
cah list                   # = cah task list
cah logs <id>              # = cah task logs
cah run                    # æ‰‹åŠ¨æ‰§è¡Œé˜Ÿåˆ—ä¸­ä¸‹ä¸€ä¸ª pending ä»»åŠ¡
cah init                   # åˆå§‹åŒ–é¡¹ç›®é…ç½®ï¼ˆ-f å¼ºåˆ¶è¦†ç›–ï¼‰
```

### ä»»åŠ¡ç®¡ç† (task)

```bash
cah task list              # åˆ—å‡ºä»»åŠ¡ï¼ˆ-s status, -a agent, --source, --no-progress, -w, -iï¼‰
cah task add               # åˆ›å»ºä»»åŠ¡ï¼ˆ-t title, -d desc, -p priority, -a agentï¼‰
cah task show <id>         # æŸ¥çœ‹è¯¦æƒ…ï¼ˆ--json, --verboseï¼‰
cah task logs <id> -f      # å®æ—¶æŸ¥çœ‹æ—¥å¿—ï¼ˆ-n/--tail, --headï¼‰
cah task stats <id>        # æ‰§è¡Œç»Ÿè®¡ï¼ˆ-t timeline, -r report, --markdown, --jsonï¼‰
cah task resume <id>       # æ¢å¤ä¸­æ–­çš„ä»»åŠ¡ï¼ˆ-a allï¼‰
cah task pause <id>        # æš‚åœè¿è¡Œä¸­çš„ä»»åŠ¡ï¼ˆ-r reasonï¼‰
cah task stop <id>         # åœæ­¢ä»»åŠ¡
cah task msg <id> <msg>    # å‘è¿è¡Œä¸­ä»»åŠ¡å‘é€æ¶ˆæ¯
cah task inject-node <id> <prompt>  # åŠ¨æ€æ³¨å…¥èŠ‚ç‚¹ï¼ˆ--persona nameï¼‰
cah task complete <id>     # å®Œæˆä»»åŠ¡ï¼ˆå®¡æ ¸é€šè¿‡ï¼‰
cah task reject <id>       # é©³å›ä»»åŠ¡ï¼ˆ-r reasonï¼‰
cah task trace <id>        # æŸ¥çœ‹æ‰§è¡Œè¿½è¸ªï¼ˆ--slow, --errors, --cost, --exportï¼‰
cah task snapshot <id>     # æŸ¥çœ‹ä»»åŠ¡æ‰§è¡Œå¿«ç…§ï¼ˆ--jsonï¼‰
cah task delete <id>       # åˆ é™¤ä»»åŠ¡
cah task clear             # æ‰¹é‡æ¸…ç†ï¼ˆ-s status, -a allï¼‰
```

### å®ˆæŠ¤è¿›ç¨‹

```bash
cah start                  # å¯åŠ¨ï¼ˆå‰å°ï¼Œè‡ªåŠ¨æ£€æµ‹é£ä¹¦/Telegramï¼‰
cah start -D               # åå°è¿è¡Œ
cah stop                   # åœæ­¢
cah restart                # é‡å¯ï¼ˆé»˜è®¤åå°ï¼‰
cah status                 # æŸ¥çœ‹çŠ¶æ€
```

### æŠ¥å‘Šåˆ†æ (report)

```bash
cah report work            # å·¥ä½œæŠ¥å‘Šï¼ˆ-a agent, -d days, -o outputï¼‰
cah report trend           # è¶‹åŠ¿åˆ†æï¼ˆ-d days, -p period, --markdown, --jsonï¼‰
cah report live            # å®æ—¶çŠ¶æ€ç›‘æ§ï¼ˆ--json, -w watch, -i intervalï¼‰
```

### è®°å¿† (memory)

```bash
cah memory list            # æŸ¥çœ‹è®°å¿†åˆ—è¡¨ï¼ˆ-c category, --projectï¼‰
cah memory add <content>   # æ‰‹åŠ¨æ·»åŠ è®°å¿†ï¼ˆ-c categoryï¼‰
cah memory search <query>  # æœç´¢è®°å¿†
cah memory delete <id>     # åˆ é™¤è®°å¿†
cah memory health          # è®°å¿†å¥åº·çŠ¶æ€
cah memory fading          # å³å°†æ¶ˆé€€çš„è®°å¿†
cah memory reinforce <id>  # å¼ºåŒ–è®°å¿†
cah memory associations <id>  # æŸ¥çœ‹å…³è”
cah memory episodes        # æƒ…æ™¯è®°å¿†åˆ—è¡¨ï¼ˆ-l limitï¼‰
cah memory recall <query>  # å›å¿†å¯¹è¯ï¼ˆ-l limitï¼‰
cah memory link <episodeId> <memoryId>  # å…³è”æƒ…æ™¯ä¸è¯­ä¹‰è®°å¿†
cah memory cleanup         # é—å¿˜æ¸…ç†ï¼ˆ--dry-runï¼‰
```

### è‡ªç®¡ç† (self)

```bash
cah self check             # å¥åº·æ£€æŸ¥ï¼ˆ= cah selfcheckï¼‰
cah self check --auto-fix  # è‡ªåŠ¨ä¿®å¤å¹¶éªŒè¯
cah self check --repair    # ä¸ºæ— æ³•ä¿®å¤çš„é—®é¢˜åˆ›å»ºä¿®å¤ä»»åŠ¡
cah self evolve            # è¿è¡Œä¸€è½®è‡ªæˆ‘è¿›åŒ–
cah self evolve analyze    # åˆ†æå¤±è´¥ä»»åŠ¡æ¨¡å¼ï¼ˆ-n limitï¼‰
cah self evolve validate <id>  # éªŒè¯è¿›åŒ–æ•ˆæœ
cah self evolve history    # æŸ¥çœ‹è¿›åŒ–å†å²ï¼ˆ-n limitï¼‰
cah self drive start       # å¯åŠ¨è‡ªé©±æ¨¡å¼
cah self drive stop        # åœæ­¢è‡ªé©±
cah self drive disable     # æ°¸ä¹…ç¦ç”¨è‡ªé©±æ¨¡å¼
cah self drive enable      # é‡æ–°å¯ç”¨è‡ªé©±æ¨¡å¼
cah self drive status      # æŸ¥çœ‹è‡ªé©±çŠ¶æ€
cah self drive goals       # æŸ¥çœ‹è‡ªé©±ç›®æ ‡
cah self status            # ç»¼åˆçŠ¶æ€ï¼ˆå¥åº·+è¿›åŒ–+è‡ªé©±ï¼‰
```

### æç¤ºè¯ (prompt)

```bash
cah prompt versions <p>    # æŸ¥çœ‹äººæ ¼æç¤ºè¯ç‰ˆæœ¬
cah prompt rollback <p> <vid>  # å›æ»šæç¤ºè¯ç‰ˆæœ¬
cah prompt diff <p> <v1> <v2>  # å¯¹æ¯”ç‰ˆæœ¬å†…å®¹
cah prompt test <p>        # å¯åŠ¨ A/B æµ‹è¯•ï¼ˆ-s min-samplesï¼‰
cah prompt evaluate <id>   # è¯„ä¼°æµ‹è¯•ç»“æœ
cah prompt extract         # æå–æˆåŠŸæ¨¡å¼ï¼ˆ-l limitï¼‰
```

### å…¶ä»–

```bash
cah agent list             # æŸ¥çœ‹å¯ç”¨ Agent
cah agent show <name>      # æŸ¥çœ‹ Agent è¯¦æƒ…
cah backend list           # åˆ—å‡ºå¯ç”¨åç«¯
cah backend current        # å½“å‰åç«¯
cah selfcheck              # ç³»ç»Ÿè‡ªæ£€å¿«æ·æ–¹å¼ï¼ˆ--fix/--auto-fix/--repairï¼‰
cah dashboard              # å¯åŠ¨ Workflow å¯è§†åŒ–é¢æ¿ï¼ˆ-p port, --open, -Dï¼‰
```

## å·¥ä½œåŸç†

```
cah "ä»»åŠ¡æè¿°"
      â”‚
      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  1. åˆ†æé¡¹ç›®ä¸Šä¸‹æ–‡                   â”‚
â”‚     æ£€æµ‹é¡¹ç›®ç±»å‹ã€æ¡†æ¶ã€è§„èŒƒ         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚
      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  2. å­¦ä¹ å†å²ç»éªŒ + æ£€ç´¢è®°å¿†          â”‚
â”‚     åˆ†æç›¸ä¼¼ä»»åŠ¡ã€æˆåŠŸæ¨¡å¼ã€å¤±è´¥æ•™è®­  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚
      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  3. AI ç”Ÿæˆ Workflow                â”‚
â”‚     åŸºäºä¸Šä¸‹æ–‡ç”Ÿæˆç²¾å‡†æ‰§è¡Œè®¡åˆ’        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚
      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  4. æ‰§è¡Œ Workflow                   â”‚
â”‚     NodeWorker æŒ‰æ‹“æ‰‘é¡ºåºæ‰§è¡ŒèŠ‚ç‚¹    â”‚
â”‚     æ”¯æŒå¹¶è¡Œã€å¾ªç¯ã€æ¡ä»¶åˆ†æ”¯         â”‚
â”‚     [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘] 40% [å½“å‰èŠ‚ç‚¹] ETA: ~2m â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚
      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  5. ä¿å­˜ç»“æœ                        â”‚
â”‚     æ‰§è¡Œç»Ÿè®¡ + æˆæœ¬åˆ†æ + æŠ¥å‘Šç”Ÿæˆ   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Workflow èŠ‚ç‚¹ç±»å‹

| èŠ‚ç‚¹ç±»å‹ | è¯´æ˜ | ç¤ºä¾‹ç”¨é€” |
|---------|------|---------|
| `start` | å¼€å§‹èŠ‚ç‚¹ | æµç¨‹å…¥å£ |
| `end` | ç»“æŸèŠ‚ç‚¹ | æµç¨‹å‡ºå£ |
| `task` | ä»»åŠ¡èŠ‚ç‚¹ | è°ƒç”¨ Claude æ‰§è¡Œä»£ç ä»»åŠ¡ |
| `condition` | æ¡ä»¶èŠ‚ç‚¹ | æ ¹æ®æ¡ä»¶é€‰æ‹©åˆ†æ”¯ |
| `parallel` | å¹¶è¡Œç½‘å…³ | å¹¶è¡Œæ‰§è¡Œå¤šä¸ªåˆ†æ”¯ |
| `join` | æ±‡åˆç½‘å…³ | ç­‰å¾…æ‰€æœ‰å¹¶è¡Œåˆ†æ”¯å®Œæˆ |
| `human` | äººå·¥èŠ‚ç‚¹ | ç­‰å¾…äººå·¥å®¡æ‰¹ï¼ˆé£ä¹¦é€šçŸ¥ï¼‰ |
| `delay` | å»¶è¿ŸèŠ‚ç‚¹ | ç­‰å¾…æŒ‡å®šæ—¶é—´ |
| `schedule` | å®šæ—¶èŠ‚ç‚¹ | ç­‰å¾…åˆ°æŒ‡å®šæ—¶é—´/cron |
| `loop` | å¾ªç¯èŠ‚ç‚¹ | while/for/until å¾ªç¯ |
| `foreach` | éå†èŠ‚ç‚¹ | éå†é›†åˆæ‰§è¡Œ |
| `switch` | åˆ†æ”¯èŠ‚ç‚¹ | å¤šè·¯æ¡ä»¶åˆ†æ”¯ |
| `assign` | èµ‹å€¼èŠ‚ç‚¹ | è®¾ç½®å˜é‡ |
| `script` | è„šæœ¬èŠ‚ç‚¹ | æ‰§è¡Œè¡¨è¾¾å¼è®¡ç®— |

## æ•°æ®å­˜å‚¨

æ•°æ®ç›®å½•é»˜è®¤ä¸º `.cah-data/`ï¼Œè§£æä¼˜å…ˆçº§ï¼š
1. `CAH_DATA_DIR` ç¯å¢ƒå˜é‡
2. `./.cah-data/`ï¼ˆå½“å‰ç›®å½•ä¸‹å­˜åœ¨æ—¶ï¼‰
3. `~/.cah-data/`ï¼ˆå…œåº•ï¼‰

```bash
# é€šè¿‡å‘½ä»¤è¡Œå‚æ•°æŒ‡å®š
cah "ä»»åŠ¡æè¿°" -d /path/to/data

# é€šè¿‡ç¯å¢ƒå˜é‡æŒ‡å®š
CAH_DATA_DIR=/path/to/data cah "ä»»åŠ¡æè¿°"
```

```
.cah-data/
â”œâ”€â”€ tasks/task-{id}/
â”‚   â”œâ”€â”€ task.json          # ä»»åŠ¡å…ƒæ•°æ®
â”‚   â”œâ”€â”€ workflow.json      # ç”Ÿæˆçš„ workflow
â”‚   â”œâ”€â”€ instance.json      # æ‰§è¡ŒçŠ¶æ€ï¼ˆå”¯ä¸€æ•°æ®æºï¼‰
â”‚   â”œâ”€â”€ process.json       # è¿›ç¨‹ä¿¡æ¯ï¼ˆPIDï¼‰
â”‚   â”œâ”€â”€ messages.json      # ä»»åŠ¡äº¤äº’æ¶ˆæ¯é˜Ÿåˆ—
â”‚   â”œâ”€â”€ stats.json         # èšåˆç»Ÿè®¡
â”‚   â”œâ”€â”€ timeline.json      # äº‹ä»¶æ—¶é—´çº¿
â”‚   â”œâ”€â”€ logs/
â”‚   â”‚   â”œâ”€â”€ execution.log      # äººç±»å¯è¯»æ—¥å¿—
â”‚   â”‚   â”œâ”€â”€ conversation.log   # å¯¹è¯æ—¥å¿—
â”‚   â”‚   â”œâ”€â”€ events.jsonl       # ç»“æ„åŒ–äº‹ä»¶æµ
â”‚   â”‚   â””â”€â”€ conversation.jsonl # å¯¹è¯äº‹ä»¶æµ
â”‚   â”œâ”€â”€ outputs/
â”‚   â”‚   â””â”€â”€ result.md          # æ‰§è¡ŒæŠ¥å‘Š
â”‚   â””â”€â”€ traces/
â”‚       â””â”€â”€ trace-{traceId}.jsonl  # OTLP å…¼å®¹ Span
â”œâ”€â”€ memory/                # è¯­ä¹‰è®°å¿†
â”œâ”€â”€ episodes/              # æƒ…æ™¯è®°å¿†
â”œâ”€â”€ prompt-versions/       # æç¤ºè¯ç‰ˆæœ¬å†å²
â”œâ”€â”€ queue.json             # ä»»åŠ¡é˜Ÿåˆ—
â”œâ”€â”€ runner.lock            # é˜Ÿåˆ— Runner é”
â”œâ”€â”€ runner.log             # Runner æ—¥å¿—
â”œâ”€â”€ meta.json              # å…ƒæ•°æ®
â””â”€â”€ index.json             # ä»»åŠ¡ç´¢å¼•
```

## é…ç½®

åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º `.claude-agent-hub.yaml`ï¼ˆé¡¹ç›®çº§è¦†ç›–å…¨å±€ `~/.claude-agent-hub.yaml`ï¼‰ï¼š

```yaml
# åç«¯é…ç½®
backend:
  type: claude-code       # claude-code / opencode / iflow / codebuddy / openai
  model: opus

# ä»»åŠ¡é»˜è®¤å€¼
tasks:
  default_priority: medium
  max_retries: 3
  timeout: 30m

# Git é…ç½®
git:
  base_branch: main
  branch_prefix: agent/
  auto_push: false

# é€šçŸ¥ï¼ˆé£ä¹¦ / Telegramï¼‰
notify:
  lark:
    appId: "..."
    appSecret: "..."
  telegram:
    botToken: "..."

# è®°å¿†ç³»ç»Ÿ
memory:
  forgetting:
    enabled: true
  association:
    enabled: true
```

ç¯å¢ƒå˜é‡è¦†ç›–ï¼š`CAH_DATA_DIR`ã€`CAH_LARK_APP_ID`ã€`CAH_LARK_APP_SECRET`ã€`CAH_LARK_WEBHOOK_URL`ã€`CAH_TELEGRAM_BOT_TOKEN`ã€`CAH_BACKEND_TYPE`ã€`CAH_BACKEND_MODEL`

## å¼€å‘

```bash
pnpm run dev              # å¼€å‘æ¨¡å¼ï¼ˆtsx watchï¼‰
pnpm run dev:dashboard    # é¢æ¿å¼€å‘æ¨¡å¼
pnpm run build            # æ„å»ºï¼ˆtsup + dashboardï¼‰
pnpm run build:types      # ä»…æ„å»ºç±»å‹å£°æ˜
pnpm run build:dashboard  # æ„å»ºé¢æ¿
pnpm run build:binary     # æ„å»ºç‹¬ç«‹äºŒè¿›åˆ¶ï¼ˆSEAï¼‰
pnpm run lint             # Lint
pnpm run lint:fix         # Lint è‡ªåŠ¨ä¿®å¤
pnpm run typecheck        # ç±»å‹æ£€æŸ¥ï¼ˆtsc --noEmitï¼‰
pnpm test                 # æµ‹è¯•ï¼ˆvitestï¼‰
pnpm run test:watch       # æµ‹è¯•ç›‘æ§æ¨¡å¼
pnpm run format           # æ ¼å¼åŒ–ï¼ˆprettierï¼‰
pnpm run format:check     # æ ¼å¼æ£€æŸ¥
pnpm run clean            # æ¸…ç†æ„å»ºäº§ç‰©
```

## æ–‡æ¡£

- [VISION.md](./VISION.md) â€” ç»ˆææ„¿æ™¯ï¼šä»å·¥å…·åˆ°ç”Ÿå‘½ä½“çš„è¿›åŒ–è·¯çº¿å›¾
- [CLAUDE.md](./CLAUDE.md) â€” AI å¼€å‘æŒ‡å—ä¸æ¨¡å—ç´¢å¼•
- [docs/architecture.md](./docs/architecture.md) â€” è¯¦ç»†æ¶æ„æ–‡æ¡£

## License

MIT
