{
  "metadata": {
    "task": "task-15",
    "testFile": "tests/lock-performance-task15.test.ts",
    "executionTime": "2026-02-03T17:38:00Z",
    "duration": "1.85s",
    "testsPassed": 6,
    "testsTotal": 6,
    "passRate": "100%"
  },
  "summary": {
    "overallStatus": "PASS",
    "performanceVsBaseline": "4/6 tests equal or better than baseline",
    "concurrencySafety": "100%",
    "dataIntegrity": "100%",
    "executionEfficiency": "1.85s / 30s target = 6.2%"
  },
  "tests": [
    {
      "id": "T1",
      "name": "单次锁操作延迟",
      "category": "基本性能",
      "status": "PASS",
      "metrics": {
        "iterations": 1000,
        "avgLatency": "0.105ms",
        "p50": "0.099ms",
        "p95": "0.134ms",
        "p99": "0.175ms",
        "min": "0.089ms",
        "max": "0.229ms"
      },
      "baseline": {
        "value": "0.102ms",
        "comparison": "+2.8%",
        "status": "STABLE"
      },
      "target": {
        "value": "<1ms",
        "achieved": true,
        "utilization": "10.5%"
      }
    },
    {
      "id": "T2",
      "name": "锁状态检查性能",
      "category": "基本性能",
      "status": "PASS",
      "metrics": {
        "iterations": 10000,
        "avgLatency": "0.0015ms",
        "p50": "0.0014ms",
        "p95": "0.0016ms",
        "p99": "0.0020ms"
      },
      "baseline": {
        "value": "0.001ms",
        "comparison": "+47.3%",
        "status": "SLOWER_BUT_ACCEPTABLE"
      },
      "target": {
        "value": "<0.1ms",
        "achieved": true,
        "utilization": "1.5%"
      },
      "notes": "绝对差异仅 0.5 微秒，依然极快"
    },
    {
      "id": "T3",
      "name": "高频锁操作吞吐量",
      "category": "基本性能",
      "status": "PASS",
      "metrics": {
        "iterations": 10000,
        "duration": "975.42ms",
        "throughput": "10252 ops/s",
        "errors": 0
      },
      "baseline": {
        "value": "10075 ops/s",
        "comparison": "+1.8%",
        "status": "IMPROVED"
      },
      "target": {
        "value": ">1000 ops/s",
        "achieved": true,
        "multiplier": "10x"
      }
    },
    {
      "id": "T4",
      "name": "并发写入竞争",
      "category": "并发安全",
      "status": "PASS",
      "metrics": {
        "workers": 10,
        "opsPerWorker": 100,
        "totalOps": 1000,
        "successfulOps": 1000,
        "duration": "467.95ms",
        "throughput": "2137 ops/s",
        "avgLatency": "0.468ms",
        "p95Latency": "0.718ms",
        "errors": 0
      },
      "safety": {
        "dataIntegrity": "100%",
        "integrityRatio": "1000/1000",
        "exclusiveness": "100%"
      },
      "baseline": {
        "value": "100%",
        "comparison": "0%",
        "status": "PERFECT"
      }
    },
    {
      "id": "T5",
      "name": "并发获取任务",
      "category": "并发安全",
      "status": "PASS",
      "metrics": {
        "workers": 10,
        "totalTasks": 100,
        "duration": "36.45ms",
        "assignedTasks": 100,
        "uniqueTasks": 100,
        "duplicates": 0
      },
      "safety": {
        "exclusiveness": "100%",
        "loadBalance": "perfect",
        "tasksPerWorker": 10
      },
      "distribution": {
        "worker0": 10,
        "worker1": 10,
        "worker2": 10,
        "worker3": 10,
        "worker4": 10,
        "worker5": 10,
        "worker6": 10,
        "worker7": 10,
        "worker8": 10,
        "worker9": 10
      },
      "baseline": {
        "value": "100%",
        "comparison": "0%",
        "status": "PERFECT"
      }
    },
    {
      "id": "T6",
      "name": "死锁检测与恢复",
      "category": "可靠性",
      "status": "PASS",
      "metrics": {
        "iterations": 100,
        "avgLatency": "0.099ms",
        "p50": "0.094ms",
        "p95": "0.142ms",
        "p99": "0.172ms"
      },
      "baseline": {
        "value": "0.3ms",
        "comparison": "-67.1%",
        "status": "SIGNIFICANTLY_IMPROVED"
      },
      "target": {
        "value": "<10ms",
        "achieved": true,
        "utilization": "1%"
      }
    }
  ],
  "performanceAnalysis": {
    "timeDistribution": {
      "T3_highFrequency": {
        "duration": "976ms",
        "percentage": "52.8%"
      },
      "T4_concurrentWrite": {
        "duration": "469ms",
        "percentage": "25.4%"
      },
      "T1_singleLock": {
        "duration": "~100ms",
        "percentage": "5.4%"
      },
      "T5_concurrentFetch": {
        "duration": "36ms",
        "percentage": "1.9%"
      },
      "T2_lockCheck": {
        "duration": "~15ms",
        "percentage": "0.8%"
      },
      "T6_deadlock": {
        "duration": "~10ms",
        "percentage": "0.5%"
      },
      "setup": {
        "duration": "~244ms",
        "percentage": "13.2%"
      }
    },
    "efficiency": {
      "testDensity": "3.2 tests/s",
      "targetUtilization": "6.2%",
      "cicdFriendly": true
    }
  },
  "baselineComparison": {
    "referenceTask": "task-19",
    "comparisonResults": {
      "improved": 2,
      "stable": 2,
      "slowerButAcceptable": 1,
      "perfect": 2
    },
    "overallAssessment": "STABLE_OR_BETTER"
  },
  "conclusions": {
    "status": "ALL_PASS",
    "performance": "BETTER_THAN_BASELINE",
    "efficiency": "EXCELLENT",
    "concurrencySafety": "PERFECT",
    "recommendations": [
      "Ready for CI/CD integration",
      "Performance baseline verified stable",
      "Optional: Increase T2 iterations to reduce measurement error",
      "Optional: Add performance trend monitoring"
    ],
    "usageScenarios": {
      "task15": "PR pre-check, quick validation, CI/CD",
      "task18": "Baseline establishment, regression testing, comprehensive coverage"
    }
  }
}
